<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ISBN生成&amp;校验 - As One Wants</title><meta name="description" content="1. ISBN&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><meta name="theme-color" content="#17181E" media="(prefers-color-scheme: dark)"><meta name="theme-color" content="#2A2C33" media="(prefers-color-scheme: light)"><meta name="msapplication-navbutton-color" content="#2A2C33"><meta name="apple-mobile-web-app-status-bar-style" content="#2A2C33"><script async defer="defer" type="text/javascript" src="" data-website-id="74fc0332-4948-4dfe-9825-7ef3229acbce" data-auto-track="true" data-do-not-track="true" data-cache="false"></script><link rel="canonical" href="https://ct-choochoo.github.io/ch-publii-pages/isbnsheng-chengandxiao-yan/"><link rel="alternate" type="application/atom+xml" href="https://ct-choochoo.github.io/ch-publii-pages/feed.xml"><link rel="alternate" type="application/json" href="https://ct-choochoo.github.io/ch-publii-pages/feed.json"><meta property="og:title" content="ISBN生成&校验 - As One Wants "><meta property="og:image" content="https://ct-choochoo.github.io/ch-publii-pages/media/posts/20/Xin-Ming-Zi-87.jpg"><meta property="og:image:width" content="900"><meta property="og:image:height" content="900"><meta property="og:site_name" content="As One Wants"><meta property="og:description" content="1. ISBN&hellip;"><meta property="og:url" content="https://ct-choochoo.github.io/ch-publii-pages/isbnsheng-chengandxiao-yan/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://ct-choochoo.github.io/ch-publii-pages/media/website/Calm.svg" type="image/x-icon"><link rel="preload" href="https://ct-choochoo.github.io/ch-publii-pages/assets/dynamic/fonts/jetbrainsmono/jetbrainsmono.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://ct-choochoo.github.io/ch-publii-pages/assets/dynamic/fonts/redhatmono/redhatmono.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://ct-choochoo.github.io/ch-publii-pages/assets/css/style.css?v=9345b9b9b181c06b61b4d4b4f947f148"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ct-choochoo.github.io/ch-publii-pages/isbnsheng-chengandxiao-yan/"},"headline":"ISBN生成&校验","datePublished":"2023-03-20T23:39","dateModified":"2023-03-29T00:20","image":{"@type":"ImageObject","url":"https://ct-choochoo.github.io/ch-publii-pages/media/posts/20/Xin-Ming-Zi-87.jpg","height":900,"width":900},"description":"1. ISBN&hellip;","author":{"@type":"Person","name":"铁柱","url":"https://ct-choochoo.github.io/ch-publii-pages/authors/tiezhu/"},"publisher":{"@type":"Organization","name":"铁柱"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><script async defer="defer" src="https://analytics.umami.is/script.js" data-website-id="74fc0332-4948-4dfe-9825-7ef3229acbce"></script><link rel="stylesheet" href="https://ct-choochoo.github.io/ch-publii-pages/media/plugins/docSearch/docsearch.min.css"></head><body><div class="container js-container"><nav class="menu"><ul class="navbar__menu"><li><a href="https://ct-choochoo.github.io/ch-publii-pages/" target="_self">home</a></li><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/" target="_self">标签</a></li><li class="has-submenu"><span>工作</span><ul class="navbar__submenu"><li class="has-submenu"><span>语言</span><ul class="navbar__submenu"><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/biao-qian/" target="_self">java</a></li><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/python/" target="_self">python</a></li></ul></li><li class="has-submenu"><span>框架</span><ul class="navbar__submenu"><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/springboot/" target="_self">springboot</a></li></ul></li><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/common/" target="_self">工具</a></li></ul></li><li class="has-submenu"><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/sheng-huo/" target="_self">生活</a><ul class="navbar__submenu"><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/lu-you/" target="_self">游记</a></li></ul></li></ul></nav><div class="content"><header class="top"><div class="top__item"><a class="logo" href="https://ct-choochoo.github.io/ch-publii-pages/">As One Wants</a></div><div class="top__item top__item--right"><button class="menu-toggle js-menu-toggle" aria-label="Menu" aria-expanded="false"><span class="menu-toggle-box"><span class="menu-toggle-inner">Menu</span></span></button></div></header><main class="main"><article class="post"><div class="main__left"><figure class="hero"><img src="https://ct-choochoo.github.io/ch-publii-pages/media/posts/20/Xin-Ming-Zi-87.jpg" srcset="https://ct-choochoo.github.io/ch-publii-pages/media/posts/20/responsive/Xin-Ming-Zi-87-xs.webp 300w, https://ct-choochoo.github.io/ch-publii-pages/media/posts/20/responsive/Xin-Ming-Zi-87-sm.webp 480w, https://ct-choochoo.github.io/ch-publii-pages/media/posts/20/responsive/Xin-Ming-Zi-87-md.webp 768w, https://ct-choochoo.github.io/ch-publii-pages/media/posts/20/responsive/Xin-Ming-Zi-87-lg.webp 1024w, https://ct-choochoo.github.io/ch-publii-pages/media/posts/20/responsive/Xin-Ming-Zi-87-xl.webp 1280w, https://ct-choochoo.github.io/ch-publii-pages/media/posts/20/responsive/Xin-Ming-Zi-87-2xl.webp 1600w" sizes="(min-width: 1800px) 50vw, (min-width: 900px) 40vw, 100vw" loading="eager" height="900" width="900" alt=""></figure><header><h1>ISBN生成&amp;校验</h1><p><time datetime="2023-03-20T23:39">三月 20, 2023 </time>by <a href="https://ct-choochoo.github.io/ch-publii-pages/authors/tiezhu/" rel="author" title="铁柱">铁柱</a></p></header></div><div class="main__right"><div class="post__entry"><h2 id="1-isbn-简介">1. ISBN 简介</h2><p>​	IS BN全称为“International Standard Book Number”，即“国际标准书号”，是国际上公认的一种专门为识别图书、标志图书的符号，每一种图书都应有一个不同的号码，它以其独特的组织结构和编码方式，在图书流通、交换和资料处理中得到广泛的应用。</p><p>​	ISBN编号由13位数字和10位数字两种形式。每个书籍的ISBN编号是唯一的。通过ISBN可查询到一本书的作者、出版社、类别、售价等信息，方便读者查找到自己需要的书籍。</p><h2 id="2-生成isbn码">2. 生成ISBN码</h2><p><code>生成ISBN的通用方法需要考虑两种ISBN：ISBN-10和ISBN-13。</code> 下面是一个Java方法，用于生成这两种ISBN。请注意，此方法生成的ISBN仅用于演示和学习目的，不保证其在实际出版物中的有效性。</p><pre><code class="language-java">import java.util.Random;

public class ISBNGenerator {

    public static void main(String[] args) {
        System.out.println(&quot;Generated ISBN-10: &quot; + generateISBN10());
        System.out.println(&quot;Generated ISBN-13: &quot; + generateISBN13());
    }

    public static String generateISBN10() {
        Random random = new Random();
        int[] digits = new int[9];
        for (int i = 0; i &lt; digits.length; i++) {
            digits[i] = random.nextInt(10);
        }

        int sum = 0;
        for (int i = 0; i &lt; digits.length; i++) {
            sum += (i + 1) * digits[i];
        }

        int checkDigit = sum % 11;
        String checkDigitString = checkDigit == 10 ? &quot;X&quot; : String.valueOf(checkDigit);

        StringBuilder isbn10 = new StringBuilder();
        for (int digit : digits) {
            isbn10.append(digit);
        }
        isbn10.append(checkDigitString);
        return isbn10.toString();
    }

    public static String generateISBN13() {
        Random random = new Random();
        int[] digits = new int[12];
        digits[0] = 9; // ISBN-13以978或979开头，这里选择978
        digits[1] = 7;
        digits[2] = 8;

        for (int i = 3; i &lt; digits.length; i++) {
            digits[i] = random.nextInt(10);
        }

        int sum = 0;
        for (int i = 0; i &lt; digits.length; i++) {
            int weight = (i % 2 == 0) ? 1 : 3;
            sum += digits[i] * weight;
        }

        int checkDigit = 10 - (sum % 10);
        if (checkDigit == 10) {
            checkDigit = 0;
        }

        StringBuilder isbn13 = new StringBuilder();
        for (int digit : digits) {
            isbn13.append(digit);
        }
        isbn13.append(checkDigit);
        return isbn13.toString();
    }
}
</code></pre><h2 id="3-校验isbn">3. 校验ISBN</h2><p>10位或13位ISBN码的通用校验方法</p><pre><code class="language-java">public class ISBNValidator {

    public static void main(String[] args) {
        String isbn10 = &quot;0-306-40615-2&quot;;
        String isbn13 = &quot;978-0-306-40615-7&quot;;

        System.out.println(&quot;Is ISBN-10 valid? &quot; + isValidISBN(isbn10));
        System.out.println(&quot;Is ISBN-13 valid? &quot; + isValidISBN(isbn13));
    }

    public static boolean isValidISBN(String isbn) {
        isbn = isbn.replaceAll(&quot;-&quot;, &quot;&quot;); // Remove hyphens

        if (isbn.length() == 10) {
            return isValidISBN10(isbn);
        } else if (isbn.length() == 13) {
            return isValidISBN13(isbn);
        }

        return false;
    }

    private static boolean isValidISBN10(String isbn) {
        int sum = 0;

        for (int i = 0; i &lt; 9; i++) {
            int digit = isbn.charAt(i) - &#39;0&#39;;
            if (0 &gt; digit || 9 &lt; digit) {
                return false;
            }
            sum += (i + 1) * digit;
        }

        char lastChar = isbn.charAt(9);
        int lastDigit;

        if (lastChar == &#39;X&#39; || lastChar == &#39;x&#39;) {
            lastDigit = 10;
        } else {
            lastDigit = lastChar - &#39;0&#39;;
            if (0 &gt; lastDigit || 9 &lt; lastDigit) {
                return false;
            }
        }

        sum += 10 * lastDigit;

        return (sum % 11 == 0);
    }

    private static boolean isValidISBN13(String isbn) {
        int sum = 0;

        for (int i = 0; i &lt; 13; i++) {
            int digit = isbn.charAt(i) - &#39;0&#39;;
            if (0 &gt; digit || 9 &lt; digit) {
                return false;
            }
            sum += (i % 2 == 0) ? digit : (3 * digit);
        }

        return (sum % 10 == 0);
    }
}
</code></pre><p>这个代码可以处理10位或13位的ISBN。对于每种ISBN长度，都有相应的私有方法（<code>isValidISBN10</code> 和 <code>isValidISBN13</code>）进行校验。</p><footer><div class="post__tag-share"><ul class="post__tag"><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/common/">common</a></li><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/kai-fa/">develop</a></li><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/biao-qian/">java</a></li></ul><div class="post__share"></div></div><div class="post__bio"><h3><a href="https://ct-choochoo.github.io/ch-publii-pages/authors/tiezhu/" title="铁柱">铁柱</a></h3></div></footer></div></div></article><div class="main__right"><div class="评论"><div class="comments-wrapper"><h5>评论区</h5><div id="cusdis_thread" data-host="https://cusdis.com" data-app-id="a6b326ad-a95f-4d7f-9076-1b06f4819430" data-page-id="20" data-page-url="https://ct-choochoo.github.io/ch-publii-pages/isbnsheng-chengandxiao-yan/" data-page-title="ISBN生成&校验" data-theme="light"></div><noscript>Please enable JS to use the comments form.</noscript><script type="text/javascript">var cusdis_element_to_check = document.getElementById('cusdis_thread');

				if ('IntersectionObserver' in window) {
					var iObserver = new IntersectionObserver(
						(entries, observer) => {
							entries.forEach(entry => {
								if (entry.intersectionRatio >= 0.1) {
									(function () {
										var d = document, s = d.createElement('script');
										s.defer = true;
										s.src = 'https://cusdis.com/js/cusdis.es.js';									
										(d.head || d.body).appendChild(s);
									})();
									observer.unobserve(entry.target);
								}
							});
						},
						{
							threshold: [0, 0.2, 0.5, 1]
						}
					);

					iObserver.observe(cusdis_element_to_check);
				} else {
					(function () {
						var d = document, s = d.createElement('script');
						s.defer = true;
						s.src = 'https://cusdis.com/js/cusdis.es.js';
						(d.head || d.body).appendChild(s);
					})();
				}</script><script type="text/javascript"></script></div></div><div class="banner banner--after-post"><script async defer="defer" src="https://cusdis.com/js/widget/lang/zh-cn.js"></script><script defer="defer" data-host="https://cusdis.com" data-app-id="{{id}}" src="https://cusdis.com/js/cusdis-count.umd.js"></script><div id="cusdis_thread" data-host="https://cusdis.com" data-app-id="a6b326ad-a95f-4d7f-9076-1b06f4819430" data-page-id="{{id}}" data-page-url="{{url}} " data-page-title="{{title}}"></div></div></div></main><footer class="footer"><div class="footer__copyright"><div style="text-align: left;"><a href="https://beian.miit.gov.cn/">陕ICP备2022014196号-1</a></div></div></footer></div></div><script defer="defer" src="https://ct-choochoo.github.io/ch-publii-pages/assets/js/scripts.min.js?v=27706a8fe221267c1834098c796f44c1"></script><script>var images = document.querySelectorAll('img[loading]');
   
           for (var i = 0; i < images.length; i++) {
               if (images[i].complete) {
                   images[i].classList.add('is-loaded');
               } else {
                   images[i].addEventListener('load', function () {
                       this.classList.add('is-loaded');
                   }, false);
               }
           }</script><script defer="defer" data-host="https://cusdis.com" data-app-id="a6b326ad-a95f-4d7f-9076-1b06f4819430" src="https://cusdis.com/js/cusdis-count.umd.js"></script><script src="https://ct-choochoo.github.io/ch-publii-pages/media/plugins/docSearch/docsearch.min.js"></script><script type="text/javascript">docsearch({
   				container: '#docsearch',
   				appId: '1940K55EKT',
   				indexName: 'blog_aow',
   				apiKey: '965ece45fd8bcfe08b8ce02572e77ea7',
   				debug: false
   			});</script></body></html>