<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>调用百度翻译API翻译JSON特定文本 - As One Wants</title><meta name="description" content="1. 准备 申请百度翻译API 每月有免费额度,适合个人轻量使用 ​ 使用到的工具包 ​	fastjson : 解析json ​	HttpUtil&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><meta name="theme-color" content="#17181E" media="(prefers-color-scheme: dark)"><meta name="theme-color" content="#2A2C33" media="(prefers-color-scheme: light)"><meta name="msapplication-navbutton-color" content="#2A2C33"><meta name="apple-mobile-web-app-status-bar-style" content="#2A2C33"><script async defer="defer" type="text/javascript" src="" data-website-id="74fc0332-4948-4dfe-9825-7ef3229acbce" data-auto-track="true" data-do-not-track="true" data-cache="false"></script><link rel="canonical" href="https://ct-choochoo.github.io/ch-publii-pages/diao-yong-bai-du-fan-yi-apifan-yi-jsonte-ding-wen-ben/"><link rel="alternate" type="application/atom+xml" href="https://ct-choochoo.github.io/ch-publii-pages/feed.xml"><link rel="alternate" type="application/json" href="https://ct-choochoo.github.io/ch-publii-pages/feed.json"><meta property="og:title" content="调用百度翻译API翻译JSON特定文本 - As One Wants "><meta property="og:image" content="https://ct-choochoo.github.io/ch-publii-pages/media/posts/17/141.jpg"><meta property="og:image:width" content="640"><meta property="og:image:height" content="640"><meta property="og:site_name" content="As One Wants"><meta property="og:description" content="1. 准备 申请百度翻译API 每月有免费额度,适合个人轻量使用 ​ 使用到的工具包 ​	fastjson : 解析json ​	HttpUtil&hellip;"><meta property="og:url" content="https://ct-choochoo.github.io/ch-publii-pages/diao-yong-bai-du-fan-yi-apifan-yi-jsonte-ding-wen-ben/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://ct-choochoo.github.io/ch-publii-pages/media/website/Calm.svg" type="image/x-icon"><link rel="shortcut icon" href="https://ct-choochoo.github.io/ch-publii-pages/media/website/Calm.svg" type="image/x-icon"><link rel="preload" href="https://ct-choochoo.github.io/ch-publii-pages/assets/dynamic/fonts/andadapro/andadapro.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://ct-choochoo.github.io/ch-publii-pages/assets/dynamic/fonts/sourcecodepro/sourcecodepro.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://ct-choochoo.github.io/ch-publii-pages/assets/css/style.css?v=1118e7347a210b3c8bfa737a104ded0d"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ct-choochoo.github.io/ch-publii-pages/diao-yong-bai-du-fan-yi-apifan-yi-jsonte-ding-wen-ben/"},"headline":"调用百度翻译API翻译JSON特定文本","datePublished":"2023-03-17T12:11","dateModified":"2023-03-29T00:20","image":{"@type":"ImageObject","url":"https://ct-choochoo.github.io/ch-publii-pages/media/posts/17/141.jpg","height":640,"width":640},"description":"1. 准备 申请百度翻译API 每月有免费额度,适合个人轻量使用 ​ 使用到的工具包 ​\tfastjson : 解析json ​\tHttpUtil&hellip;","author":{"@type":"Person","name":"铁柱","url":"https://ct-choochoo.github.io/ch-publii-pages/authors/tiezhu/"},"publisher":{"@type":"Organization","name":"铁柱"}}</script><script type="application/ld+json">{ "@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{ "@type": "ListItem", "position": 1, "name": "Home", "item": "https://ct-choochoo.github.io/ch-publii-pages/" },{ "@type": "ListItem", "position": 2, "name": "java", "item": "https://ct-choochoo.github.io/ch-publii-pages/tags/biao-qian/" }] }</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><script async defer="defer" src="https://analytics.umami.is/script.js" data-website-id="74fc0332-4948-4dfe-9825-7ef3229acbce"></script><link rel="stylesheet" href="https://ct-choochoo.github.io/ch-publii-pages/media/plugins/docSearch/docsearch.min.css"></head><body><header class="header" id="js-header"><a href="https://ct-choochoo.github.io/ch-publii-pages/" class="logo">As One Wants</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://ct-choochoo.github.io/ch-publii-pages/" target="_self">home</a></li><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/" target="_self">标签</a></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">工作</span><ul class="navbar__submenu level-2" aria-hidden="true"><li class="has-submenu"><span class="is-separator" aria-haspopup="true">语言</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/biao-qian/" target="_self">java</a></li><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/python/" target="_self">python</a></li></ul></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">框架</span><ul class="navbar__submenu level-3" aria-hidden="true"><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/springboot/" target="_self">springboot</a></li></ul></li><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/common/" target="_self">工具</a></li></ul></li><li class="has-submenu"><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/sheng-huo/" target="_self" aria-haspopup="true">生活</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/lu-you/" target="_self">游记</a></li></ul></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div id="docsearch"></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false" height="18" width="18"><use xlink:href="https://ct-choochoo.github.io/ch-publii-pages/assets/svg/svg-map.svg#search"/></svg></button></div></header><main class="main main--post"><article class="post"><header class="hero post__header"><div class="wrapper wrapper--narrow"><ol class="breadcrumb"><li><a href="https://ct-choochoo.github.io/ch-publii-pages/"><span>Home</span></a></li><li><span>&rsaquo;</span> <a href="https://ct-choochoo.github.io/ch-publii-pages/tags/biao-qian/" title="java"><span>java</span></a></li></ol><h1 class="post__title">调用百度翻译API翻译JSON特定文本</h1><div class="post__meta"><div class="post__author">By <a href="https://ct-choochoo.github.io/ch-publii-pages/authors/tiezhu/" class="invert" rel="author" title="铁柱">铁柱</a></div><time datetime="2023-03-17T12:11">23/03/17 </time><a href="https://ct-choochoo.github.io/ch-publii-pages/diao-yong-bai-du-fan-yi-apifan-yi-jsonte-ding-wen-ben/#comments" aria-label="Comments" rel="nofollow" class="post__comments"><svg><use xlink:href="https://ct-choochoo.github.io/ch-publii-pages/assets/svg/svg-map.svg#comments"/></svg></a></div></div></header><div class="wrapper main__content post__inner"><figure class="post__featured-image post__featured-image--full post__image--full"><img src="https://ct-choochoo.github.io/ch-publii-pages/media/posts/17/141.jpg" srcset="https://ct-choochoo.github.io/ch-publii-pages/media/posts/17/responsive/141-xs.webp 384w, https://ct-choochoo.github.io/ch-publii-pages/media/posts/17/responsive/141-sm.webp 600w, https://ct-choochoo.github.io/ch-publii-pages/media/posts/17/responsive/141-md.webp 768w, https://ct-choochoo.github.io/ch-publii-pages/media/posts/17/responsive/141-lg.webp 1200w" sizes="(max-width: 2560px) 100vw, 2560px" loading="eager" height="640" width="640" alt=""></figure><div class="post__entry"><h2 id="1-准备">1. 准备</h2><p>申请百度翻译API 每月有免费额度,适合个人轻量使用</p><ol><li><a href="https://fanyi-api.baidu.com/">https://fanyi-api.baidu.com/</a></li><li>创建应用,获得 <strong>APP ID</strong> 和 <strong>密钥</strong></li></ol><h2 id="2处理json">2.处理json</h2><p>​</p><blockquote><p>使用到的工具包</p><p>​	fastjson : 解析json</p><p>​	HttpUtil : 发送翻译请求</p></blockquote><h3 id="21-导入需要的工具包">2.1 导入需要的工具包</h3><pre><code class="language-xml">    &lt;dependency&gt;
      &lt;groupId&gt;cn.hutool&lt;/groupId&gt;
      &lt;artifactId&gt;hutool-all&lt;/artifactId&gt;
      &lt;version&gt;5.8.2&lt;/version&gt;
    &lt;/dependency&gt;
        &lt;dependency&gt;
      &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
      &lt;artifactId&gt;fastjson&lt;/artifactId&gt;
      &lt;version&gt;2.0.21.graal&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre><h3 id="22-解析并处理json数据">2.2 解析并处理json数据</h3><pre><code class="language-java">package com.youxuepai.demo.youdao;

import cn.hutool.http.HttpUtil;
import com.alibaba.fastjson2.JSON;
import com.alibaba.fastjson2.JSONArray;
import com.alibaba.fastjson2.JSONObject;
import java.nio.charset.StandardCharsets;
import java.security.MessageDigest;
import java.security.NoSuchAlgorithmException;
import java.util.HashMap;
import java.util.Map;
import java.util.Random;
import javax.xml.bind.DatatypeConverter;
import org.apache.commons.lang3.StringUtils;

public class BaiduTranslateApi {

  /**
   * 百度翻译API
   */
  private static final String API_URL = &quot;http://api.fanyi.baidu.com/api/trans/vip/translate&quot;;

  /**
   * APP_ID
   */
  private static final String APP_ID = &quot;APP_ID&quot;;

  /**
   * 秘钥
   */
  private static final String SECRET_KEY = &quot;SECRET_KEY&quot;;


  /**
   * json文本
   */
  private static final String js = &quot;json文本&quot;;

  /**
   * 百度翻译方法
   *
   * @param query 要翻译的文字
   * @param from  翻译原文语言（自动检测为auto）
   * @param to    翻译目标语言
   * @return 翻译结果
   * @throws NoSuchAlgorithmException
   */
  public static String translate(String query, String from, String to)
      throws NoSuchAlgorithmException, InterruptedException {
    // 请求参数
    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();
    params.put(&quot;q&quot;, query);
    params.put(&quot;from&quot;, from);
    params.put(&quot;to&quot;, to);
    // 签名相关参数
    String salt = String.valueOf(new Random().nextInt(10000));
    String sign = md5(APP_ID + query + salt + SECRET_KEY);
    params.put(&quot;appid&quot;, APP_ID);
    params.put(&quot;salt&quot;, salt);
    params.put(&quot;sign&quot;, sign);
    // 发送请求并返回翻译结果
    Thread.sleep(1100L);
    String s = HttpUtil.get(API_URL, params);
    JSONObject jsonObject = JSON.parseObject(s);
    if (jsonObject.get(&quot;error_code&quot;) != null) {
      return query;
    } else {
      JSONArray transResult = (JSONArray) jsonObject.get(&quot;trans_result&quot;);
      JSONObject o = (JSONObject) transResult.get(0);
      return o.get(&quot;dst&quot;).toString();
    }
  }

  /**
   * MD5签名计算方法
   *
   * @param input 待签名字符串
   * @return 签名结果
   * @throws NoSuchAlgorithmException
   */
  private static String md5(String input)
      throws NoSuchAlgorithmException {
    MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);
    byte[] messageDigest = md.digest(input.getBytes(StandardCharsets.UTF_8));
    return DatatypeConverter.printHexBinary(messageDigest).toLowerCase();
  }

  private static void processJson(JSONObject jsonObject, String targetKey,
      ValueProcessor processor) throws NoSuchAlgorithmException, InterruptedException {
    for (String key : jsonObject.keySet()) {
      Object value = jsonObject.get(key);
      if (key.equals(targetKey)) {
        jsonObject.put(key, processor.process(value));
      }
      if (value instanceof JSONObject) {
        processJson((JSONObject) value, targetKey, processor);
      } else if (value instanceof JSONArray) {
        processJson((JSONArray) value, targetKey, processor);
      }
    }
  }

  private static void processJson(JSONArray jsonArray, String targetKey, ValueProcessor processor)
      throws NoSuchAlgorithmException, InterruptedException {
    for (int i = 0; i &lt; jsonArray.size(); i++) {
      Object value = jsonArray.get(i);
      if (value instanceof JSONObject) {
        processJson((JSONObject) value, targetKey, processor);
      } else if (value instanceof JSONArray) {
        processJson((JSONArray) value, targetKey, processor);
      }
    }
  }


  interface ValueProcessor {

    Object process(Object value) throws NoSuchAlgorithmException, InterruptedException;
  }


  public static void main(String[] args) throws NoSuchAlgorithmException, InterruptedException {

    JSONObject jsonObject = JSON.parseObject(js);
    processJson(jsonObject, &quot;label&quot;, (value) -&gt; {
      if (StringUtils.isBlank(value.toString())) {
        return value;
      }
      String translate = translate(value.toString(), &quot;auto&quot;, &quot;zh&quot;);
      System.out.println(&quot;翻译:&quot; + value + &quot;-&gt;&quot; + translate);
      return translate;
    });
    System.out.println(JSON.toJSONString(jsonObject));
  }

}
</code></pre><p>处理后输出翻译后json, 由于使用的是免费的api一秒钟限制请求一次, 如果是vip的话可以去掉 <code>#translate().Thread.sleep(1100L);</code></p></div><footer><p class="post__last-updated">This article was updated on 23/03/29</p><div class="post__tags-share"><ul class="post__tag"><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/kai-fa/">develop</a></li><li><a href="https://ct-choochoo.github.io/ch-publii-pages/tags/biao-qian/">java</a></li></ul><aside class="post__share"><button class="post__share-button js-post__share-button" aria-label="[MISSING TRANSLATION]"><svg width="32" height="32"><use xlink:href="https://ct-choochoo.github.io/ch-publii-pages/assets/svg/svg-map.svg#share"></use></svg></button><div class="post__share-popup js-post__share-popup"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fct-choochoo.github.io%2Fch-publii-pages%2Fdiao-yong-bai-du-fan-yi-apifan-yi-jsonte-ding-wen-ben%2F" class="js-share facebook" aria-label="Share with Facebook" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://ct-choochoo.github.io/ch-publii-pages/assets/svg/svg-map.svg#facebook"/></svg> Facebook </a><a href="https://api.whatsapp.com/send?text=%E8%B0%83%E7%94%A8%E7%99%BE%E5%BA%A6%E7%BF%BB%E8%AF%91API%E7%BF%BB%E8%AF%91JSON%E7%89%B9%E5%AE%9A%E6%96%87%E6%9C%AC https%3A%2F%2Fct-choochoo.github.io%2Fch-publii-pages%2Fdiao-yong-bai-du-fan-yi-apifan-yi-jsonte-ding-wen-ben%2F" class="js-share whatsapp" aria-label="Share with WhatsApp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://ct-choochoo.github.io/ch-publii-pages/assets/svg/svg-map.svg#whatsapp"/></svg> WhatsApp</a></div></aside></div></footer></div></article><div class="comments-area wrapper post__inner" id="comments"><div class="评论"><div class="comments-wrapper"><h5>评论区</h5><div id="cusdis_thread" data-host="https://cusdis.com" data-app-id="a6b326ad-a95f-4d7f-9076-1b06f4819430" data-page-id="17" data-page-url="https://ct-choochoo.github.io/ch-publii-pages/diao-yong-bai-du-fan-yi-apifan-yi-jsonte-ding-wen-ben/" data-page-title="调用百度翻译API翻译JSON特定文本" data-theme="light"></div><noscript>Please enable JS to use the comments form.</noscript><script type="text/javascript">var cusdis_element_to_check = document.getElementById('cusdis_thread');

				if ('IntersectionObserver' in window) {
					var iObserver = new IntersectionObserver(
						(entries, observer) => {
							entries.forEach(entry => {
								if (entry.intersectionRatio >= 0.1) {
									(function () {
										var d = document, s = d.createElement('script');
										s.defer = true;
										s.src = 'https://cusdis.com/js/cusdis.es.js';									
										(d.head || d.body).appendChild(s);
									})();
									observer.unobserve(entry.target);
								}
							});
						},
						{
							threshold: [0, 0.2, 0.5, 1]
						}
					);

					iObserver.observe(cusdis_element_to_check);
				} else {
					(function () {
						var d = document, s = d.createElement('script');
						s.defer = true;
						s.src = 'https://cusdis.com/js/cusdis.es.js';
						(d.head || d.body).appendChild(s);
					})();
				}</script><script type="text/javascript"></script></div></div></div><div class="banner banner--after-post"><script async defer="defer" src="https://cusdis.com/js/widget/lang/zh-cn.js"></script><script defer="defer" data-host="https://cusdis.com" data-app-id="{{id}}" src="https://cusdis.com/js/cusdis-count.umd.js"></script><div id="cusdis_thread" data-host="https://cusdis.com" data-app-id="a6b326ad-a95f-4d7f-9076-1b06f4819430" data-page-id="{{id}}" data-page-url="{{url}} " data-page-title="{{title}}"></div></div></main><footer class="footer"><div class="wrapper"><div class="footer__top"><a class="logo footer__logo" href="https://ct-choochoo.github.io/ch-publii-pages/">As One Wants</a><div class="footer__nav-1"><h3 class="h6">TOOLS</h3><ul class="footer__nav"><li><a href="https://codegen.bqrdh.com/json/editor" target="_blank">Json格式化</a></li><li><a href="https://tool.browser.qq.com/" target="_blank">腾讯-&quot;帮小忙&quot;</a></li></ul></div><div class="footer__nav-2"><h3 class="h6">SITES</h3><ul class="footer__nav"><li><a href="https://www.v2ex.com/" target="_blank">v2ex</a></li><li><a href="https://www.cloudflare.com/" target="_blank">cloudflare</a></li><li><a href="http://jandan.net/" target="_self">jandan</a></li><li><a href="https://cusdis.com/" target="_blank">cusdis</a></li><li><a href="https://cloud.umami.is/" target="_blank">umami</a></li></ul></div></div><div class="footer__bottom"><div class="footer__copyright"><div style="text-align: left;"><a href="https://beian.miit.gov.cn/">陕ICP备2022014196号-1</a></div></div></div></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://ct-choochoo.github.io/ch-publii-pages/assets/svg/svg-map.svg#toparrow"/></svg></button></footer><script>window.publiiThemeMenuConfig = { mobileMenuMode: 'sidebar', animationSpeed: 300, submenuWidth: 'auto', doubleClickTime: 500, mobileMenuExpandableSubmenus: true, relatedContainerForOverlayMenuSelector: '.navbar', };</script><script defer="defer" src="https://ct-choochoo.github.io/ch-publii-pages/assets/js/scripts.min.js?v=f38d0d176b831ac1c3053faa12bb916d"></script><script>function publiiDetectLoadedImages () {
         var images = document.querySelectorAll('img[loading]:not(.is-loaded)');
         for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                  images[i].classList.add('is-loaded');
                  images[i].parentNode.classList.add('is-loaded');
            } else {
                  images[i].addEventListener('load', function () {
                     this.classList.add('is-loaded');
                     this.parentNode.classList.add('is-loaded');
                  }, false);
            }
         }
      }
      publiiDetectLoadedImages();</script><script defer="defer" src="https://ct-choochoo.github.io/ch-publii-pages/assets/js/quicklink.umd.js?v=a52ee49fe4afff274f8c30fe880ddc13"></script><script>window.addEventListener('load', () =>{
      quicklink.listen();
      });</script><script defer="defer" data-host="https://cusdis.com" data-app-id="a6b326ad-a95f-4d7f-9076-1b06f4819430" src="https://cusdis.com/js/cusdis-count.umd.js"></script><script src="https://ct-choochoo.github.io/ch-publii-pages/media/plugins/docSearch/docsearch.min.js"></script><script type="text/javascript">docsearch({
				container: '#docsearch',
				appId: '1940K55EKT',
				indexName: 'blog_aow',
				apiKey: '965ece45fd8bcfe08b8ce02572e77ea7',
				debug: false
			});</script></body></html>